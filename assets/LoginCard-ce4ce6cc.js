import{c as l,u as z,a as P,R as I,Z as f,j as e,L as b,s as t,_ as B,$ as D}from"./index-cc6da959.js";import{u as O}from"./useDispatch-485630c5.js";import{u as U}from"./chunk-BFUVSDI7-d20b051e.js";import{B as i,T as a}from"./chunk-PULVB27S-9a36290a.js";import{F as q}from"./chunk-KRPLQIP4-c5e77f62.js";import{S as r}from"./chunk-ZHMYA64R-5b27e248.js";import{H as y}from"./chunk-7OLJDQMT-5f050106.js";import{I as x}from"./chunk-6CVSDS6C-e07a1070.js";import{B as w}from"./chunk-UVUR7MCU-c25dde32.js";import{F as S}from"./chunk-R42ZB7PB-e2d2988c.js";import{F as C}from"./chunk-7COXQURZ-a4df292b.js";import{C as A}from"./chunk-P675YKMR-da1213fc.js";import"./chunk-XRMX4GAI-3e28534f.js";import"./index-f5b58712.js";import"./chunk-7D6N5TE5-10dafede.js";import"./index-8d968404.js";function re(){const[n,E]=l.useState({}),[L,m]=l.useState(!1),[c,T]=l.useState(""),d=z(),p=O(),o=U(),g=P(s=>s.auth.isLogin),u=I();l.useEffect(()=>{g&&(u.state&&u.state.from?(console.log("abc"),d(u.state.from,{replace:!0})):d("/"))},[g]);const h=s=>{const{name:R,value:k}=s.target;E({...n,[R]:k})},v=async()=>{(n.email===""||n.password==="")&&t(o,"Please Fill All The Fields","error");try{const s=await p(B(n)).unwrap();t(o,"Login successfully","success")}catch(s){t(o,s.message?s.message:"Invalid Credentials","error"),console.error(s)}};let j=f("white","gray.700");const F=async()=>{c===""&&t(o,"Please Enter Your Email","error");try{const s=await p(D(c)).unwrap();t(o,"Reset OTP Sent To Your Email","success"),d("/resetpassword")}catch(s){t(o,s.message?s.message:"User Not Found","error"),console.error(s)}};return e.jsxs(e.Fragment,{children:[e.jsx(i,{marginTop:["-5px","-10px","-20px","-30px","-40px"]}),e.jsx(q,{minH:"75vh",align:"center",justify:"center",bg:f("gray.50","gray.800"),width:"100%",children:L?e.jsxs(r,{spacing:5,mx:"auto",maxW:"2xl",py:10,px:10,children:[e.jsxs(r,{align:"center",spacing:2,children:[e.jsx(y,{fontSize:"4xl",children:"Enter Your Email"}),e.jsx(a,{color:"gray.600",fontSize:"lg",children:"This OTP will be sent to your email."})]}),e.jsx(i,{rounded:"lg",bg:j,boxShadow:"lg",p:8,children:e.jsxs(r,{spacing:4,children:[e.jsx(a,{color:"gray.600",fontSize:"md",fontWeight:"bold",children:"Email Address"}),e.jsx(x,{type:"email",value:c,onChange:s=>T(s.target.value),variant:"filled",placeholder:"Enter your email address",required:!0}),e.jsxs(r,{spacing:3,children:[e.jsx(w,{bg:"blue.400",color:"white",bgColor:"rgb(0,0,0)",_hover:{boxShadow:"xl"},onClick:F,children:"Submit"}),e.jsxs(i,{justifyContent:"center",alignItems:"center",display:"flex",children:["Return To"," ",e.jsx(a,{ml:1,textDecorationLine:"underline",color:"blue.400",cursor:"pointer",onClick:()=>m(!1),children:"Login"})]})]})]})})]}):e.jsxs(r,{spacing:8,mx:"auto",maxW:"2xl",py:10,px:10,children:[e.jsxs(r,{align:"center",children:[e.jsx(y,{fontSize:"3xl",children:"Login to your account"}),e.jsxs(a,{fontSize:"lg",color:"gray.600",children:["to buy all of our cool ",e.jsx(b,{color:"blue.400",children:"Products"})," ","✌️"]})]}),e.jsx(i,{rounded:"lg",bg:j,boxShadow:"lg",p:9,children:e.jsxs(r,{spacing:3,children:[e.jsxs(S,{id:"email",isRequired:!0,children:[e.jsx(C,{children:"Email address"}),e.jsx(x,{name:"email",type:"email",onChange:h})]}),e.jsxs(S,{id:"password",isRequired:!0,children:[e.jsx(C,{children:"Password"}),e.jsx(x,{name:"password",onChange:h,type:"password"})]}),e.jsxs(r,{spacing:5,children:[e.jsxs(r,{direction:{base:"column",sm:"row"},align:"start",justify:"space-between",children:[e.jsx(A,{children:"Remember me"}),e.jsx(a,{cursor:"pointer",color:"blue.400",onClick:()=>m(!0),children:"Forgot password?"})]}),e.jsx(w,{bg:"blue.400",color:"white",bgColor:"rgb(0,0,0)",_hover:{boxShadow:"xl"},onClick:v,children:"Login"})]}),e.jsx(r,{children:e.jsxs(i,{justifyContent:"center",alignItems:"center",display:"flex",children:["Don't have a account?",e.jsx(b,{to:"/signup",children:e.jsx(a,{ml:1,textDecorationLine:"underline",color:"blue.400",children:"Sign Up"})})]})})]})})]})}),e.jsx(i,{marginTop:["-10px","-20px","-30px","-40px","-40px"]})]})}export{re as default};
