import{u as j,a as S,b as l,j as e,F as h,c as r,I as F,T as s,X as m,n as E,B as b,Y as k,Z as g,s as f,_ as z,f as C,$ as R}from"./index-b883cab5.js";import{u as T}from"./chunk-BFUVSDI7-3827c69f.js";import{E as B}from"./Error-3324d261.js";import{L as D}from"./Loading-265ed300.js";import"./chunk-5MKCW436-50ad3e93.js";const I=({id:n,title:a,description:c,price:p,img:o,data:x})=>{const t=T(),i=j(),v=S(),u=l(d=>d.auth.token),y=async()=>{try{await i(k([n,u])).unwrap(),await i(g(u)).unwrap(),f(t,"Product removed from favourites","success")}catch{f(t,"Something went wrong","error")}},w=()=>{z("singleProduct",x),v("/description")};return e.jsx(e.Fragment,{children:e.jsxs(h,{flexDirection:"column",mb:"30px",children:[e.jsx(r,{overflow:"hidden",children:e.jsx(F,{onClick:w,className:"imgAnimation",cursor:"pointer",src:o[0]})}),e.jsxs(r,{mt:"15px",children:[e.jsxs(h,{fontSize:["14px","14px","16px","16px","18px"],justifyContent:"space-between",children:[e.jsx(s,{children:m(a)}),e.jsxs(s,{children:["â‚¹",E(p)]})]}),e.jsx(s,{fontSize:["12px","12px","15px","15px","17px"],color:"gray",my:"2px",children:m(c,20)}),e.jsx(b,{variant:"ghost",borderRadius:"20px",border:"1px solid #cecdce",mt:"20px",onClick:y,children:"Remove"})]})]})})};function O(){const n=j(),a=l(t=>t.auth.token),{isLoading:c,isError:p,favourite:o}=l(t=>t.favourite),x=async t=>{try{await n(g(t)).unwrap()}catch(i){console.log(i)}};return C.useEffect(()=>{x(a)},[a]),c?e.jsx(D,{}):p?e.jsx(B,{}):e.jsx(e.Fragment,{children:e.jsxs(r,{maxW:"1450px",minHeight:"60vh",mx:"auto",my:"20px",p:"15px",children:[e.jsx(s,{fontSize:"20px",fontWeight:500,children:"Favourites"}),o.length?e.jsx(r,{display:"grid",gap:["20px","20px","20px","40px","40px"],mt:"40px",gridTemplateColumns:["repeat(2, 1fr)","repeat(2, 1fr)","repeat(2, 1fr)","repeat(3, 1fr)","repeat(3, 1fr)"],children:o.map(t=>e.jsx(I,{...t,data:t},t.id))}):e.jsx(r,{children:e.jsx(R,{h:"30vh",children:e.jsx(s,{fontSize:"20px",children:"Your favourite items will be displayed here."})})})]})})}export{O as default};
