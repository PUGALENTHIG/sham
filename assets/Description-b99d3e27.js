import{h as n,o as Pe,p as ne,q as Fe,t as Me,j as e,v as De,w as Ie,x as ze,y as g,z as S,C as U,E as he,d as b,I as ae,M as ge,G as me,H as fe,J as je,K as be,L as ve,N as Be,B as $,O as Le,P as Ae,Q as Ee,R as A,F as W,S as _,T as P,U as Ge,V as ie,W as He,c as le,a as qe,b as Oe,u as Ve,k as de,s as R,n as We,D as ce,X as Ne,Y as V,Z as ue,f as Te,e as Ke}from"./index-f6ceaca2.js";import{G as Q}from"./chunk-JARCRF6W-adbc8325.js";import{M as we,a as ye,B as Ue,S as $e}from"./chunk-3RSXBRAN-f0953d1c.js";import{t as _e}from"./index-8d968404.js";import{L as Qe}from"./Loading-355fa9d6.js";import{E as Je}from"./Error-2f78a860.js";import{A as Xe}from"./chunk-V7PAE35Z-efa1592e.js";import{M as Ye}from"./index.esm-92c01cab.js";import{I as Ze}from"./chunk-6QYXN73V-82f193fc.js";import{F as pe}from"./chunk-7COXQURZ-3fca144d.js";import{T as es}from"./chunk-4IH3O7BJ-fbf6a7ff.js";import"./chunk-5MKCW436-897810d4.js";function ss(o){return o&&ne(o)&&ne(o.target)}function Ce(o={}){const{onChange:t,value:l,defaultValue:s,name:c,isDisabled:d,isFocusable:h,isNative:w,...F}=o,[j,y]=n.useState(s||""),v=typeof l<"u",m=v?l:j,C=n.useRef(null),p=n.useCallback(()=>{const r=C.current;if(!r)return;let u="input:not(:disabled):checked";const k=r.querySelector(u);if(k){k.focus();return}u="input:not(:disabled)";const f=r.querySelector(u);f==null||f.focus()},[]),x=`radio-${n.useId()}`,E=c||x,z=n.useCallback(r=>{const u=ss(r)?r.target.value:r;v||y(u),t==null||t(String(u))},[t,v]),H=n.useCallback((r={},u=null)=>({...r,ref:Pe(u,C),role:"radiogroup"}),[]),D=n.useCallback((r={},u=null)=>({...r,ref:u,name:E,[w?"checked":"isChecked"]:m!=null?r.value===m:void 0,onChange(f){z(f)},"data-radiogroup":!0}),[w,E,z,m]);return{getRootProps:H,getRadioProps:D,name:E,ref:C,focus:p,setValue:y,value:m,onChange:z,isDisabled:d,isFocusable:h,htmlProps:F}}var[os,ts]=Fe({name:"RadioGroupContext",strict:!1}),rs=Me((o,t)=>{const{colorScheme:l,size:s,variant:c,children:d,className:h,isDisabled:w,isFocusable:F,...j}=o,{value:y,onChange:v,getRootProps:m,name:C,htmlProps:p}=Ce(j),M=n.useMemo(()=>({name:C,size:s,onChange:v,colorScheme:l,value:y,variant:c,isDisabled:w,isFocusable:F}),[C,s,v,l,y,c,w,F]);return e.jsx(os,{value:M,children:e.jsx(De.div,{...m(p,t),className:Ie("chakra-radio-group",h),children:d})})});rs.displayName="RadioGroup";var ns={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function as(o={}){const{defaultChecked:t,isChecked:l,isFocusable:s,isDisabled:c,isReadOnly:d,isRequired:h,onChange:w,isInvalid:F,name:j,value:y,id:v,"data-radiogroup":m,"aria-describedby":C,...p}=o,M=`radio-${n.useId()}`,x=ze(),z=!!ts()||!!m;let D=!!x&&!z?x.id:M;D=v??D;const r=c??(x==null?void 0:x.isDisabled),u=d??(x==null?void 0:x.isReadOnly),k=h??(x==null?void 0:x.isRequired),f=F??(x==null?void 0:x.isInvalid),[q,O]=n.useState(!1),[a,I]=n.useState(!1),[N,X]=n.useState(!1),[T,G]=n.useState(!1),[ke,Se]=n.useState(!!t),K=typeof l<"u",B=K?l:ke;n.useEffect(()=>_e(O),[]);const Y=n.useCallback(i=>{if(u||r){i.preventDefault();return}K||Se(i.target.checked),w==null||w(i)},[K,r,u,w]),Z=n.useCallback(i=>{i.key===" "&&G(!0)},[G]),ee=n.useCallback(i=>{i.key===" "&&G(!1)},[G]),se=n.useCallback((i={},L=null)=>({...i,ref:L,"data-active":g(T),"data-hover":g(N),"data-disabled":g(r),"data-invalid":g(f),"data-checked":g(B),"data-focus":g(a),"data-focus-visible":g(a&&q),"data-readonly":g(u),"aria-hidden":!0,onMouseDown:S(i.onMouseDown,()=>G(!0)),onMouseUp:S(i.onMouseUp,()=>G(!1)),onMouseEnter:S(i.onMouseEnter,()=>X(!0)),onMouseLeave:S(i.onMouseLeave,()=>X(!1))}),[T,N,r,f,B,a,u,q]),{onFocus:oe,onBlur:te}=x??{},Re=n.useCallback((i={},L=null)=>{const re=r&&!s;return{...i,id:D,ref:L,type:"radio",name:j,value:y,onChange:S(i.onChange,Y),onBlur:S(te,i.onBlur,()=>I(!1)),onFocus:S(oe,i.onFocus,()=>I(!0)),onKeyDown:S(i.onKeyDown,Z),onKeyUp:S(i.onKeyUp,ee),checked:B,disabled:re,readOnly:u,required:k,"aria-invalid":U(f),"aria-disabled":U(re),"aria-required":U(k),"data-readonly":g(u),"aria-describedby":C,style:ns}},[r,s,D,j,y,Y,te,oe,Z,ee,B,u,k,f,C]);return{state:{isInvalid:f,isFocused:a,isChecked:B,isActive:T,isHovered:N,isDisabled:r,isReadOnly:u,isRequired:k},getCheckboxProps:se,getRadioProps:se,getInputProps:Re,getLabelProps:(i={},L=null)=>({...i,ref:L,onMouseDown:S(i.onMouseDown,is),"data-disabled":g(r),"data-checked":g(B),"data-invalid":g(f)}),getRootProps:(i,L=null)=>({...i,ref:L,"data-disabled":g(r),"data-checked":g(B),"data-invalid":g(f)}),htmlProps:p}}function is(o){o.preventDefault(),o.stopPropagation()}const ls=({img:o})=>{const{isOpen:t,onOpen:l,onClose:s}=he();return e.jsxs(e.Fragment,{children:[e.jsx(Q,{templateColumns:"repeat(2, 1fr)",maxH:"xl",gap:"10px",children:o==null?void 0:o.map((c,d)=>e.jsx(b,{children:e.jsx(ae,{src:c,onClick:l,cursor:"pointer"})},d))}),e.jsxs(ge,{isOpen:t,onClose:s,size:"full",children:[e.jsx(me,{}),e.jsxs(we,{children:[e.jsx(fe,{}),e.jsx(je,{}),e.jsx(be,{children:e.jsx(Q,{templateColumns:["repeat(1, 1fr)","repeat(1, 1fr)","repeat(2, 1fr)","repeat(2, 1fr)","repeat(2, 1fr)"],gap:"15px",children:o==null?void 0:o.map((c,d)=>e.jsx(ae,{w:"100%",src:c},d))})}),e.jsx(ye,{})]})]})]})},ds=o=>{const{getInputProps:t,getCheckboxProps:l}=as(o),s=t(),c=l(),{colorMode:d}=Be();return e.jsxs(b,{as:"label",children:[e.jsx("input",{...s}),e.jsx(b,{onClick:o.onClick,...c,cursor:"pointer",borderWidth:"1px",borderRadius:"md",boxShadow:"md",_checked:{border:`2px solid ${d==="light"?"black":"white"}`},px:5,py:3,children:o.children})]})},cs=({size:o,setMySize:t})=>{const{getRootProps:l,getRadioProps:s}=Ce({name:"SelectSize"}),c=l();return e.jsx(ve,{...c,children:o==null?void 0:o.map(d=>{const h=s({value:d});return e.jsx(ds,{onClick:()=>{t(d)},...h,children:d},d)})})},xe=({click:o,name:t,bgColor:l,color:s,hoverBg:c,hoverBorder:d,borderColor:h})=>e.jsx(e.Fragment,{children:e.jsx($,{onClick:o,h:"62px",bg:l,color:s,border:`1px solid ${h}`,borderRadius:"50px",w:"100%",fontSize:"17px",my:"10px",_hover:{bg:c,borderColor:d},children:t})});function J({rating:o,numReviews:t}){return e.jsxs(b,{display:"flex",alignItems:"center",children:[Array(5).fill("").map((l,s)=>{const c=t;return c-s>=1?e.jsx(Le,{style:{marginLeft:"1"},color:s<t/10?"teal.500":"gray.300"},s):c-s===.5?e.jsx(Ae,{style:{marginLeft:"1"}},s):e.jsx(Ee,{style:{marginLeft:"1"}},s)}),e.jsxs(b,{as:"span",ml:"2",color:"gray.600",fontSize:"sm",children:[t," review",t>1&&"s"]})]})}function us(o){const{name:t,reviewdescription:l,numReviews:s,...c}=o,d=A("secondaryGray.900","white"),h=A("white","navy.700");return e.jsx(b,{background:h,p:"14px",w:"full",children:e.jsxs(W,{align:"flex-start",direction:"row",children:[e.jsx(Xe,{h:"60px",w:"60px",borderRadius:"8px",me:"20px"}),e.jsxs(W,{align:"flex-start",direction:"column",gap:3,w:"full",children:[e.jsxs(_,{w:"full",direction:"column",gap:0,children:[e.jsx(b,{mt:{base:"10px",md:"0"},children:e.jsx(P,{color:d,fontWeight:"500",fontSize:"md",mb:"4px",children:t})}),e.jsx(J,{numReviews:s})]}),e.jsx(b,{borderWidth:"1px",rounded:"lg",shadow:"lg",p:"2",pt:"2",w:"full",maxW:"sm",ml:"-10px",maxH:"150px",children:e.jsx(P,{color:d,fontWeight:"500",fontSize:"md",children:Ge(l)})})]})]})})}function ps({data:o}){const t=A("white","gray.800");return A("gray.800","white"),e.jsx(W,{w:"full",alignItems:"center",justifyContent:"center",children:e.jsx(b,{bg:t,w:"full",borderWidth:"1px",rounded:"lg",shadow:"lg",p:"6",children:e.jsx(W,{direction:"column",justifyContent:"space-between",alignContent:"center",maxH:"360px",overflow:"auto",sx:{"&::-webkit-scrollbar":{display:"none"}},children:o==null?void 0:o.ratings.map(l=>e.jsx(us,{name:"Venketesh Rushi",reviewdescription:l.reviewdes,numReviews:l.rating}))})})})}function Fs(){ie("(min-width: 995px)");const[o]=ie("(min-width: 1025px)"),[t,l]=n.useState(!1),[s,c]=n.useState({}),[d,h]=n.useState(!1),[w,F]=n.useState(!1);let[j,y]=n.useState({rating:5,reviewdes:""});const v=He(),m=le(a=>a.auth.token),C=le(a=>a.auth.user),p=qe(),M=Oe(),x=Ve();n.useEffect(()=>{O()},[v]);const E=A("14px 17px 40px 4px rgba(112, 144, 176, 0.18)","14px 17px 40px 4px rgba(112, 144, 176, 0.06)"),z=A("gray.800","white"),{isOpen:H,onOpen:D,onClose:r}=he();let u=a=>{y({...j,[a.target.name]:a.target.value})},k=async()=>{if(m.length>0){if(j.reviewdes===""){R(p,"Please add description.","error");return}try{let a=await de.post("/product/addreview",{id:s.id,rating:j.rating,reviewdes:j.reviewdes,userid:C.id});console.log("addreview",a),y({rating:5,reviewdes:""}),r(),R(p,"Review added successfuly.","success"),O()}catch(a){console.log(a)}}else R(p,"Please Login First","error")};const f=a=>{if(t===!1)R(p,"Please select a Size","error");else if(m.length>0){let I=["add",{...a,size:t,quantity:1},m,p];x(Te(I)),M("/cart")}else R(p,"Please Login First","error")},q=async()=>{if(!m)R(p,"Please login first","error"),M("/login");else try{let I=await x(Ke([s,m,p])).unwrap();R(p,I.message?I.message:"Item added to the favourites","success")}catch(a){a.response.data.message==="Already present in the Favourite"?R(p,a.response.data.message,"info"):R(p,"Something went wrong!","error")}},O=async()=>{h(!0);try{let a=await de.get(`/product/getsingleproduct/${v.id}`),I=await a.data;c(a.data),h(!1)}catch{F(!0),R(p,"Product Not Found","error"),M(-1,{replace:!0})}};return d?e.jsx(Qe,{}):w?e.jsx(Je,{}):e.jsxs(Q,{p:"10px",gap:["40px","40px","4%","4%","4%"],templateColumns:["100%","100%","55% 41%","62% 34%","62% 34%"],w:["100%","100%","100%","100%","90%"],m:["40px auto 100px","40px auto 100px","40px auto 60px","40px auto 60px","40px auto 60px"],children:[e.jsx(ls,{img:s==null?void 0:s.img}),e.jsxs(b,{px:["20px","40px"],children:[e.jsx(P,{fontSize:"29px",children:s==null?void 0:s.title}),e.jsx(P,{children:s==null?void 0:s.description}),e.jsxs(P,{fontSize:"22px",mt:"20px",children:["â‚¹ ",We(+(s==null?void 0:s.price))]}),e.jsx(P,{color:"gray",children:"incl. of taxes and duties"}),e.jsx(P,{fontSize:"18px",mt:"30px",mb:"10px",children:"Select Size"}),e.jsx(b,{mb:"30px",children:e.jsx(cs,{size:s==null?void 0:s.size,setMySize:l})}),e.jsx(xe,{click:()=>f(s),name:"Add to Bag",bgColor:"black",color:"white",hoverBg:"#1e1e1e",borderColor:"transparent"}),e.jsx(xe,{click:q,name:"Favourite",bgColor:"white",color:"black",hoverBorder:"black",borderColor:"#cecdce"}),e.jsx(ce,{my:"30px"}),e.jsx(P,{fontSize:"18px",mb:"10px",textDecoration:"underline",children:"Product Deatils"}),e.jsxs(Ne,{fontSize:"18px",children:[e.jsxs(V,{children:["Gender: ",s==null?void 0:s.gender]}),e.jsxs(V,{children:["Category: ",s==null?void 0:s.category]}),e.jsxs(V,{children:["Colour: ",s==null?void 0:s.color]}),e.jsx(V,{children:e.jsxs(ve,{direction:["column","row"],spacing:"5px",children:[e.jsx(P,{children:"Rating:"}),Object.keys(s).length>0?e.jsx(J,{numReviews:s.ratings.length}):e.jsx(J,{numReviews:0})]})})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx(ce,{my:"18px"}),e.jsxs(b,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mb:[5,5,5,3,3],children:[e.jsx(Ue,{rounded:"full",px:"2",fontSize:"0.8em",color:"#303030",children:e.jsx(P,{fontSize:"16px",color:z,children:"Customer Reviews"})}),e.jsx(Ze,{icon:e.jsx(Ye,{}),variant:"outline",onClick:D}),e.jsxs(ge,{isOpen:H,onClose:r,isCentered:!0,children:[e.jsx(me,{}),e.jsxs(we,{children:[e.jsx(fe,{children:"Add Review"}),e.jsx(je,{}),e.jsx(be,{children:e.jsx(b,{rounded:"lg",bg:A("white","gray.700"),p:8,shadow:E,children:e.jsxs(_,{spacing:4,children:[e.jsxs(ue,{id:"ratingnum",children:[e.jsxs(pe,{children:["Please share your thoughts about this ",s.title," ","Product. How would you rate your experience using it?"]}),e.jsxs($e,{name:"ratingnum",value:j.rating,onChange:u,placeholder:"Select option",children:[e.jsx("option",{defaultValue:!0,value:5,children:"5"}),e.jsx("option",{value:4,children:"4"}),e.jsx("option",{value:3,children:"3"}),e.jsx("option",{value:2,children:"2"}),e.jsx("option",{value:1,children:"1"})]})]}),e.jsxs(ue,{id:"reviewdes",children:[e.jsx(pe,{children:"Feel free to share your thoughts about this product right here. How has your experience been so far?"}),e.jsx(es,{maxLength:"100",value:j.reviewdes,onChange:u,placeholder:"Enter your review description here...",size:"sm",name:"reviewdes"})]}),e.jsx(_,{spacing:10})]})})}),e.jsxs(ye,{children:[e.jsx($,{color:"white",bgColor:"rgb(0,0,0)",_hover:{boxShadow:"xl"},pt:5,pb:5,mr:3,textAlign:"center",onClick:k,children:"ADD"}),e.jsx($,{colorScheme:"blue",mr:3,onClick:r,children:"Close"})]})]})]})]}),e.jsx(ps,{data:s})]})]})]})}export{Fs as default};
