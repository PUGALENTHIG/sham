import{a as re}from"./chunk-XRMX4GAI-738cc98d.js";import{Z as L,d as n,ak as E,_ as ie,v as a,w as l}from"./index-e87d006e.js";import{m as G}from"./index-0f0e6f7f.js";import{t as le}from"./index-8d968404.js";var ce={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function de(b,p=[]){const t=Object.assign({},b);for(const s of p)s in t&&delete t[s];return t}function me(b={}){const p=re(b),{isDisabled:t,isReadOnly:s,isRequired:D,isInvalid:i,id:I,onBlur:J,onFocus:Q,"aria-describedby":R}=p,{defaultChecked:B,isChecked:M,isFocusable:T,onChange:W,isIndeterminate:u,name:x,value:A,tabIndex:K=void 0,"aria-label":U,"aria-labelledby":q,"aria-invalid":P,...X}=b,S=de(X,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),w=L(W),H=L(J),O=L(Q),[m,Y]=n.useState(!1),[f,y]=n.useState(!1),[k,_]=n.useState(!1),[h,v]=n.useState(!1);n.useEffect(()=>le(Y),[]);const c=n.useRef(null),[V,$]=n.useState(!0),[ee,C]=n.useState(!!B),F=M!==void 0,o=F?M:ee,j=n.useCallback(e=>{if(s||t){e.preventDefault();return}F||C(o?e.target.checked:u?!0:e.target.checked),w==null||w(e)},[s,t,o,F,u,w]);E(()=>{c.current&&(c.current.indeterminate=!!u)},[u]),ie(()=>{t&&y(!1)},[t,y]),E(()=>{const e=c.current;if(!(e!=null&&e.form))return;const r=()=>{C(!!B)};return e.form.addEventListener("reset",r),()=>{var d;return(d=e.form)==null?void 0:d.removeEventListener("reset",r)}},[]);const N=t&&!T,Z=n.useCallback(e=>{e.key===" "&&v(!0)},[v]),z=n.useCallback(e=>{e.key===" "&&v(!1)},[v]);E(()=>{if(!c.current)return;c.current.checked!==o&&C(c.current.checked)},[c.current]);const ae=n.useCallback((e={},r=null)=>{const d=g=>{f&&g.preventDefault(),v(!0)};return{...e,ref:r,"data-active":a(h),"data-hover":a(k),"data-checked":a(o),"data-focus":a(f),"data-focus-visible":a(f&&m),"data-indeterminate":a(u),"data-disabled":a(t),"data-invalid":a(i),"data-readonly":a(s),"aria-hidden":!0,onMouseDown:l(e.onMouseDown,d),onMouseUp:l(e.onMouseUp,()=>v(!1)),onMouseEnter:l(e.onMouseEnter,()=>_(!0)),onMouseLeave:l(e.onMouseLeave,()=>_(!1))}},[h,o,t,f,m,k,u,i,s]),te=n.useCallback((e={},r=null)=>({...e,ref:r,"data-active":a(h),"data-hover":a(k),"data-checked":a(o),"data-focus":a(f),"data-focus-visible":a(f&&m),"data-indeterminate":a(u),"data-disabled":a(t),"data-invalid":a(i),"data-readonly":a(s)}),[h,o,t,f,m,k,u,i,s]),ne=n.useCallback((e={},r=null)=>({...S,...e,ref:G(r,d=>{d&&$(d.tagName==="LABEL")}),onClick:l(e.onClick,()=>{var d;V||((d=c.current)==null||d.click(),requestAnimationFrame(()=>{var g;(g=c.current)==null||g.focus({preventScroll:!0})}))}),"data-disabled":a(t),"data-checked":a(o),"data-invalid":a(i)}),[S,t,o,i,V]),oe=n.useCallback((e={},r=null)=>({...e,ref:G(c,r),type:"checkbox",name:x,value:A,id:I,tabIndex:K,onChange:l(e.onChange,j),onBlur:l(e.onBlur,H,()=>y(!1)),onFocus:l(e.onFocus,O,()=>y(!0)),onKeyDown:l(e.onKeyDown,Z),onKeyUp:l(e.onKeyUp,z),required:D,checked:o,disabled:N,readOnly:s,"aria-label":U,"aria-labelledby":q,"aria-invalid":P?!!P:i,"aria-describedby":R,"aria-disabled":t,style:ce}),[x,A,I,j,H,O,Z,z,D,o,N,s,U,q,P,i,R,t,K]),se=n.useCallback((e={},r=null)=>({...e,ref:r,onMouseDown:l(e.onMouseDown,ue),"data-disabled":a(t),"data-checked":a(o),"data-invalid":a(i)}),[o,t,i]);return{state:{isInvalid:i,isFocused:f,isChecked:o,isActive:h,isHovered:k,isIndeterminate:u,isDisabled:t,isReadOnly:s,isRequired:D},getRootProps:ne,getCheckboxProps:ae,getIndicatorProps:te,getInputProps:oe,getLabelProps:se,htmlProps:S}}function ue(b){b.preventDefault(),b.stopPropagation()}export{me as u};
