import{a as S,u as j,b as F,c as l,j as e,F as h,d as r,I as E,T as s,a3 as m,n as b,B as k,a4 as z,a5 as g,s as f,a6 as C,h as R,a7 as T}from"./index-497f9636.js";import{E as B}from"./Error-a29f86dc.js";import{L as D}from"./Loading-61d335ad.js";import"./chunk-5MKCW436-38fc25eb.js";const I=({id:i,title:a,description:c,price:x,img:o,data:p})=>{const t=S(),n=j(),v=F(),u=l(d=>d.auth.token),y=async()=>{try{await n(z([i,u])).unwrap(),await n(g(u)).unwrap(),f(t,"Product removed from favourites","success")}catch{f(t,"Something went wrong","error")}},w=()=>{C("singleProduct",p),v("/description")};return e.jsx(e.Fragment,{children:e.jsxs(h,{flexDirection:"column",mb:"30px",children:[e.jsx(r,{overflow:"hidden",children:e.jsx(E,{onClick:w,className:"imgAnimation",cursor:"pointer",src:o[0]})}),e.jsxs(r,{mt:"15px",children:[e.jsxs(h,{fontSize:["14px","14px","16px","16px","18px"],justifyContent:"space-between",children:[e.jsx(s,{children:m(a)}),e.jsxs(s,{children:["â‚¹",b(x)]})]}),e.jsx(s,{fontSize:["12px","12px","15px","15px","17px"],color:"gray",my:"2px",children:m(c,20)}),e.jsx(k,{variant:"ghost",borderRadius:"20px",border:"1px solid #cecdce",mt:"20px",onClick:y,children:"Remove"})]})]})})};function N(){const i=j(),a=l(t=>t.auth.token),{isLoading:c,isError:x,favourite:o}=l(t=>t.favourite),p=async t=>{try{await i(g(t)).unwrap()}catch(n){console.log(n)}};return R.useEffect(()=>{p(a)},[a]),c?e.jsx(D,{}):x?e.jsx(B,{}):e.jsx(e.Fragment,{children:e.jsxs(r,{maxW:"1450px",minHeight:"60vh",mx:"auto",my:"20px",p:"15px",children:[e.jsx(s,{fontSize:"20px",fontWeight:500,children:"Favourites"}),o.length?e.jsx(r,{display:"grid",gap:["20px","20px","20px","40px","40px"],mt:"40px",gridTemplateColumns:["repeat(2, 1fr)","repeat(2, 1fr)","repeat(2, 1fr)","repeat(3, 1fr)","repeat(3, 1fr)"],children:o.map(t=>e.jsx(I,{...t,data:t},t.id))}):e.jsx(r,{children:e.jsx(T,{h:"30vh",children:e.jsx(s,{fontSize:"20px",children:"Your favourite items will be displayed here."})})})]})})}export{N as default};
