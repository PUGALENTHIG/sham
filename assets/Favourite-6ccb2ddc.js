import{u as S,a as l,j as e,z as u,n as F,A as C,B as j,s as h,C as E,d as z}from"./index-93736ec2.js";import{u as b}from"./chunk-BFUVSDI7-d6ffc094.js";import{u as g}from"./useDispatch-75473436.js";import{F as f}from"./chunk-KRPLQIP4-2b8289f8.js";import{B as t,T as s}from"./chunk-PULVB27S-ade9ac35.js";import{I as k}from"./chunk-QINAG4RG-44f2faf1.js";import{B}from"./chunk-UVUR7MCU-ac0ab9c8.js";import{L as R,E as T}from"./Error-901e3496.js";import{C as D}from"./chunk-FAWTVNS3-07fd5f6c.js";import"./index-b8f94c96.js";import"./chunk-5MKCW436-4f22a312.js";const I=({id:n,title:o,description:p,price:c,img:a,data:x})=>{const r=b(),i=g(),v=S(),m=l(d=>d.auth.token),y=async()=>{try{await i(C([n,m])).unwrap(),await i(j(m)).unwrap(),h(r,"Product removed from favourites","success")}catch{h(r,"Something went wrong","error")}},w=()=>{E("singleProduct",x),v("/description")};return e.jsx(e.Fragment,{children:e.jsxs(f,{flexDirection:"column",mb:"30px",children:[e.jsx(t,{overflow:"hidden",children:e.jsx(k,{onClick:w,className:"imgAnimation",cursor:"pointer",src:a[0]})}),e.jsxs(t,{mt:"15px",children:[e.jsxs(f,{fontSize:["14px","14px","16px","16px","18px"],justifyContent:"space-between",children:[e.jsx(s,{children:u(o)}),e.jsxs(s,{children:["â‚¹",F(c)]})]}),e.jsx(s,{fontSize:["12px","12px","15px","15px","17px"],color:"gray",my:"2px",children:u(p,20)}),e.jsx(B,{variant:"ghost",borderRadius:"20px",border:"1px solid #cecdce",mt:"20px",onClick:y,children:"Remove"})]})]})})};function J(){const n=g(),o=l(r=>r.auth.token),{isLoading:p,isError:c,favourite:a}=l(r=>r.favourite),x=async r=>{try{await n(j(r)).unwrap()}catch(i){console.log(i)}};return z.useEffect(()=>{x(o)},[o]),p?e.jsx(R,{}):c?e.jsx(T,{}):e.jsx(e.Fragment,{children:e.jsxs(t,{maxW:"1450px",minHeight:"60vh",mx:"auto",my:"20px",p:"15px",children:[e.jsx(s,{fontSize:"20px",fontWeight:500,children:"Favourites"}),a.length?e.jsx(t,{display:"grid",gap:["20px","20px","20px","40px","40px"],mt:"40px",gridTemplateColumns:["repeat(2, 1fr)","repeat(2, 1fr)","repeat(2, 1fr)","repeat(3, 1fr)","repeat(3, 1fr)"],children:a.map(r=>e.jsx(I,{...r,data:r},r.id))}):e.jsx(t,{children:e.jsx(D,{h:"30vh",children:e.jsx(s,{fontSize:"20px",children:"Your favourite items will be displayed here."})})})]})})}export{J as default};
